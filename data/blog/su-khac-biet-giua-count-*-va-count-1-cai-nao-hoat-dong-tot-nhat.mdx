---
title: 'S·ª± kh√°c bi·ªát gi·ªØa count(*) v√† count(1) v√† c√°i n√†o hi·ªáu qu·∫£ h∆°n?'
date: '2024-04-02'
tags: ['database', 'sql', 'medium', 'backend', 'mysql', 'InnoDB']
summary: 'Khi ch√∫ng ta ƒë·∫øm c√°c b·∫£n ghi trong b·∫£ng d·ªØ li·ªáu, ch√∫ng ta ƒë√£ quen v·ªõi vi·ªác s·ª≠ d·ª•ng h√†m count ƒë·ªÉ ƒë·∫øm, nh∆∞ng c√≥ nhi·ªÅu lo·∫°i tham s·ªë c√≥ th·ªÉ  ƒë∆∞·ª£c truy·ªÅn trong h√†m count, ch·∫≥ng h·∫°n nh∆∞ count(1), count(*), count(field), ... V·∫≠y h√†m count n√†o s·∫Ω ƒëem l·∫°i hi·ªáu su·∫•t t·ªët nh·∫•t?'
lastmod: '2024-04-02'
draft: false
images: ['/static/images/page/blog/su-khac-biet-giua-count-*-va-count-1-cai-nao-hoat-dong-tot-nhat/banner.png']
layout: PostSimple
---

<div className="image-blog flex justify-center border-2 rounded-lg dark:border-0 blog-banner">
    ![banner](/static/images/page/blog/su-khac-biet-giua-count-*-va-count-1-cai-nao-hoat-dong-tot-nhat/banner.png)
</div>

Hi c√°c b·∫°n üëã. M√¨nh l√† H√πng Anh.

Khi ch√∫ng ta ƒë·∫øm c√°c b·∫£n ghi trong b·∫£ng d·ªØ li·ªáu, ch√∫ng ta ƒë√£ quen v·ªõi vi·ªác s·ª≠ d·ª•ng h√†m count ƒë·ªÉ ƒë·∫øm, 
nh∆∞ng c√≥ nhi·ªÅu lo·∫°i tham s·ªë c√≥ th·ªÉ  ƒë∆∞·ª£c truy·ªÅn trong h√†m count, ch·∫≥ng h·∫°n nh∆∞ count(1), count(*), count(field), ‚Ä¶

V·∫≠y s·ª≠ d·ª•ng c√°i n√†o hi·ªáu qu·∫£ nh·∫•t? C√≥ ph·∫£i count(*) s·∫Ω k√©m hi·ªáu qu·∫£ nh·∫•t kh√¥ng?

M·ªçi ng∆∞·ªùi th∆∞·ªùng nh·∫≠n ƒë·ªãnh count(*) l√† k√©m hi·ªáu qu·∫£ nh·∫•t v√† cho r·∫±ng n√≥ s·∫Ω ƒë·ªçc t·∫•t c·∫£ c√°c tr∆∞·ªùng trong b·∫£ng, 
gi·ªëng nh∆∞ c√¢u query `select * from`. ƒêi·ªÅu n√†y c√≥ th·ª±c s·ª± ƒë√∫ng kh√¥ng, ch√∫ng ta h√£y t√¨m hi·ªÉu b√™n d∆∞·ªõi nh√©.

<TOCInline toc={props.toc} />

## 1. C√¢u l·ªánh count n√†o s·∫Ω c√≥ hi·ªáu su·∫•t t·ªët nh·∫•t?
Ch√∫ng ta s·∫Ω b·∫Øt ƒë·∫ßu v·ªõi k·∫øt lu·∫≠n tr∆∞·ªõc:
```js
count(*) = count(1) > count(primary key field) > count(field)
```
ƒê·ªÉ hi·ªÉu ƒëi·ªÅu n√†y, ch√∫ng ta c·∫ßn ƒëi s√¢u v√†o nguy√™n t·∫Øc ho·∫°t c·ªông c·ªßa h√†m count().
Tr∆∞·ªõc khi ƒëi ti·∫øp, ch√∫ng ta c√πng th·ªëng nh·∫•t ng·ªØ c·∫£nh c·ªßa b√†i vi·∫øt:
- Database: MySQL
- Store engine: InnoDB

### 1.1. Count() l√† g√¨?
Count(arg) l√† m·ªôt h√†m t·ªïng h·ª£p ƒë∆∞·ª£c d√πng ƒë·ªÉ ƒë·∫øm s·ªë l∆∞·ª£ng b·∫£n ghi trong m·ªôt t·∫≠p h·ª£p k·∫øt qu·∫£ t·ª´ m·ªôt c√¢u truy v·∫•n m√† tham s·ªë  **arg kh√°c NULL**.

Trong ƒë√≥ tham s·ªë arg c√≥ th·ªÉ nh·∫≠n c√°c gi√° tr·ªã sau:
- M·ªôt h·∫±ng s·ªë: count(0), count(1), ...
- M·ªôt bi·ªÉu th·ª©c: count(1 < 2), ...
- M·ªôt tr∆∞·ªùng: count(name), count(age), ...
- "*": count(\*)

Gi·∫£ s·ª≠ tham s·ªë arg l√† m·ªôt tr∆∞·ªùng name nh∆∞ sau:
```js
select count(name) from member;
```
C√¢u l·ªánh n√†y l√† ƒë·ªÉ ƒë·∫øm s·ªë l∆∞·ª£ng b·∫£n ghi trong b·∫£ng member v·ªõi tr∆∞·ªùng name kh√°c NULL.
N√≥i c√°ch kh√°c, n·∫øu gi√° tr·ªã c·ªßa tr∆∞·ªùng name trong b·∫£n ghi l√† NULL, n√≥ s·∫Ω kh√¥ng ƒë∆∞·ª£c t√≠nh. 

Gi·∫£ s·ª≠ tham s·ªë arg l√† m·ªôt h·∫±ng s·ªë 1 nh∆∞ sau:
```js
select count(1) from member;
```
C√¢u l·ªánh n√†y l√† ƒë·ªÉ ƒë·∫øm c√≥ bao nhi√™u b·∫£n ghi trong b·∫£ng member trong ƒë√≥ 1 kh√°c NULL.
T·∫•t nhi√™n 1 th√¨ lu√¥n kh√°c NULL r·ªìi, v√¨ v·∫≠y c√¢u l·ªánh tr√™n th·ª±c s·ª± ƒëang ƒë·∫øm c√≥ bao nhi√™u b·∫£n ghi trong b·∫£ng member.

ƒê·ªÉ hi·ªÉu r√µ h∆°n, sau ƒë√¢y ch√∫ng ta c√πng t√¨m hi·ªÉu c√°c c∆° ch·∫ø ho·∫°t ƒë·ªông v√† chi·∫øn l∆∞·ª£c th·ª±c thi c·ªßa h√†m count nh√©. 

### 1.2. Count(primary key field) th·ª±c thi nh∆∞ th·∫ø n√†o?
Khi ch√∫ng ta ƒë·∫øm c√≥ bao nhi√™u b·∫£n ghi th√¥ng qua h√†m count(arg),
l√∫c n√†y MySQL duy tr√¨ m·ªôt bi·∫øn g·ªçi l√† count v√† duy·ªát qua c√°c record c·ªßa t·∫≠p k·∫øt qu·∫£ truy v·∫•n.
N·∫øu gi√° tr·ªã arg kh√°c NULL, n√≥ c·ªông th√™m 1 v√†o bi·∫øn count.
Khi t·∫•t c·∫£ c√°c record ƒë√£ ƒë∆∞·ª£c duy·ªát qua, n√≥ s·∫Ω tr·∫£ k·∫øt qu·∫£ bi·∫øn count v·ªÅ cho client.

Nh∆∞ ch√∫ng ta bi·∫øt r·∫±ng s·∫Ω c√≥ hai lo·∫°i [index](https://www.anhdh.net/blog/tim-hieu-ve-index-trong-database) 
l√† clustered index v√† secondary index.
S·ª± kh√°c bi·ªát gi·ªØa ch√∫ng l√† c√°c n√∫t l√° c·ªßa clustered index l∆∞u tr·ªØ d·ªØ li·ªáu th·ª±c t·∫ø, 
trong khi c√°c n√∫t l√° c·ªßa secondary index ch·ªâ l∆∞u tr·ªØ gi√° tr·ªã kh√≥a ch√≠nh thay v√¨ d·ªØ li·ªáu c·ªßa b·∫£n ghi.

L·∫•y c√¢u l·ªánh truy v·∫•n sau ƒë√¢y l√†m v√≠ d·ª•:
```js
select count(CardNo) from member;
```
N·∫øu b·∫£ng ch·ªâ c√≥ clustered index, InnoDB s·∫Ω duy·ªát qua clustered index v√† tr·∫£ v·ªÅ c√°c b·∫£n ghi ƒë√£ ƒë·ªçc.
Sau ƒë√≥ InnoDB ti·∫øp t·ª•c ƒë·ªçc gi√° tr·ªã c·ªßa tr∆∞·ªùng CardNo trong c√°c b·∫£n ghi ƒë·ªÉ 
x√°c ƒë·ªãnh xem gi√° tr·ªã CardNo c√≥ ph·∫£i l√† NULL hay kh√¥ng v√† n·∫øu n√≥ kh√°c NULL, 
bi·∫øn count s·∫Ω ƒë∆∞·ª£c tƒÉng l√™n 1.
<div className="image-blog flex justify-center">
    ![count-(primary-key-field)-with-clustered-index](/static/images/page/blog/su-khac-biet-giua-count-*-va-count-1-cai-nao-hoat-dong-tot-nhat/count-primary-key-with-clustered-index.png)
</div>

Tuy nhi√™n, n·∫øu c√≥ m·ªôt secondary index trong b·∫£ng, InnoDB s·∫Ω ∆∞u ti√™n s·ª≠ d·ª•ng secondary index ƒë·ªÉ duy·ªát thay v√¨ s·ª≠ d·ª•ng clustered index.
<div className="image-blog flex justify-center">
    ![count-(primary-key-field)-with-secondary-index](/static/images/page/blog/su-khac-biet-giua-count-*-va-count-1-cai-nao-hoat-dong-tot-nhat/count-primary-key-with-secondary-index.png)
</div>

L√Ω do l√† secondary index c√≥ th·ªÉ chi·∫øm √≠t dung l∆∞·ª£ng l∆∞u tr·ªØ h∆°n so 
v·ªõi clustered index ‚ûî c√¢y secondary index nh·ªè h∆°n c√¢y clustered index ‚ûî chi ph√≠ 
I/O khi scan secondary index th·∫•p h∆°n so v·ªõi vi·ªác scan clustered index. 
V√¨ v·∫≠y secondary index ƒë∆∞·ª£c ∆∞u ti√™n s·ª≠ d·ª•ng h∆°n.

### 1.3. Count(1) th·ª±c thi nh∆∞ th·∫ø n√†o?
Tham s·ªë c·ªßa h√†m count l√† 1, r√µ r√†ng kh√¥ng ph·∫£i l√† c·ªôt, c≈©ng kh√¥ng ph·∫£i NULL. V·∫≠y count(1) s·∫Ω th·ª±c thi th·∫ø n√†o?

Ch√∫ng ta l·∫•y c√¢u truy v·∫•n sau l√†m v√≠ d·ª•:
```js
select count(1) from member;
```
Trong tr∆∞·ªùng h·ª£p ch·ªâ c√≥ clustered index v√† kh√¥ng c√≥ secondary index, 
InnoDB duy·ªát clustered index ƒë·ªÉ l·∫•y ra t·∫≠p k·∫øt qu·∫£ truy v·∫•n. 
V√¨ h·∫±ng s·ªë 1 lu√¥n kh√°c NULL, n√™n InnoDB s·∫Ω duy·ªát v√† tr·∫£ v·ªÅ k·∫øt qu·∫£ l√† s·ªë l∆∞·ª£ng b·∫£n ghi lu√¥n
m√† **kh√¥ng c·∫ßn ph·∫£i ki·ªÉm tra b·∫•t k·ª≥ gi√° tr·ªã c·ªßa tr∆∞·ªùng n√†o trong t·∫≠p k·∫øt qu·∫£ truy v·∫•n**.
<div className="image-blog flex justify-center">
    ![count-(1)-with-clustered-index](/static/images/page/blog/su-khac-biet-giua-count-*-va-count-1-cai-nao-hoat-dong-tot-nhat/count-1-with-clustered-index.png)
</div>

Trong tr∆∞·ªùng h·ª£p c√≥ th√™m secondary index, th√¨ InnoDB v·∫´n s·∫Ω ∆∞u ti√™n s·ª≠ d·ª•ng secondary index ƒë·ªÉ duy·ªát thay v√¨ s·ª≠ d·ª•ng clustered index.
<div className="image-blog flex justify-center">
    ![count-(1)-with-secondary-index](/static/images/page/blog/su-khac-biet-giua-count-*-va-count-1-cai-nao-hoat-dong-tot-nhat/count-1-with-secondary-index.png)
</div>

Nh∆∞ ch√∫ng ta c√≥ th·ªÉ th·∫•y, count(1) s·∫Ω nhanh h∆°n count(primary key field), 
v√¨ n√≥ kh√¥ng c·∫ßn ƒë·ªçc b·∫£n ghi ƒë·ªÉ ki·ªÉm tra gi√° tr·ªã NULL c·ªßa tham s·ªë, do ƒë√≥ 
ng∆∞·ªùi ta th∆∞·ªùng n√≥i r·∫±ng count(1) s·∫Ω ƒë∆∞·ª£c th·ª±c thi hi·ªáu qu·∫£ h∆°n m·ªôt ch√∫t so v·ªõi count(primary key field).

### 1.4. Count(*) th·ª±c thi nh∆∞ th·∫ø n√†o?
Khi b·∫°n nh√¨n th·∫•y k√Ω t·ª± `*`, b·∫°n c√≥ nghƒ© r·∫±ng n√≥ ƒëang ƒë·ªçc t·∫•t c·∫£ c√°c gi√° tr·ªã tr∆∞·ªùng trong b·∫£n ghi kh√¥ng?

N√≥ s·∫Ω ƒë√∫ng trong tr∆∞·ªùng h·ª£p `select *`, c√≤n `count(*)` th√¨ kh√¥ng nh√©. 
**Khi ch√∫ng ta g·ªçi count(*), MySQL s·∫Ω chuy·ªÉn ƒë·ªïi tham s·ªë th√†nh count(0)**.
<div className="image-blog flex justify-center">
    ![count-(*)](/static/images/page/blog/su-khac-biet-giua-count-*-va-count-1-cai-nao-hoat-dong-tot-nhat/count-*.png)
</div>
Do ƒë√≥, qu√° tr√¨nh th·ª±c thi count(*) gi·ªëng h·ªát count(1) v√† kh√¥ng c√≥ s·ª± kh√°c bi·ªát v·ªÅ hi·ªáu su·∫•t.

### 1.5. Count(field) th·ª±c thi nh∆∞ th·∫ø n√†o?
Hi·ªáu qu·∫£ th·ª±c thi c·ªßa count(field) k√©m nh·∫•t so v·ªõi count(1), count(*) v√† count(primary key field). 

Ch√∫ng ta c√≥ v√≠ d·ª• sau:
```js
select count(name) from member;
```
ƒê·ªëi v·ªõi truy v·∫•n n√†y, MySQL qu√©t to√†n b·ªô b·∫£ng ƒë·ªÉ ƒë·∫øm, v√¨ v·∫≠y hi·ªáu qu·∫£ th·ª±c thi c·ªßa n√≥ t∆∞∆°ng ƒë·ªëi k√©m.
<div className="image-blog flex justify-center">
    ![count-(field)](/static/images/page/blog/su-khac-biet-giua-count-*-va-count-1-cai-nao-hoat-dong-tot-nhat/count-field.png)
</div>
Trong tr∆∞·ªùng h·ª£p field l√† secondary index th√¨ c√¢u l·ªánh s·∫Ω s·ª≠ d·ª•ng index ƒë·ªÉ duy·ªát, t·ª´ ƒë√≥ t·ªëc ƒë·ªô s·∫Ω ƒë∆∞·ª£c c·∫£i thi·ªán. 

### 1.6. T√≥m t·∫Øt
- count(*) = count(1) > count(primary key field) > count(field)
- N·∫øu c√≥ secondary index trong b·∫£ng, InnoDB s·∫Ω ch·ªçn secondary index c√≥ key_len nh·ªè nh·∫•t ƒë·ªÉ duy·ªát. V√¨ n√≥ hi·ªáu qu·∫£ h∆°n so v·ªõi duy·ªát primary index.
- H·∫°n ch·∫ø s·ª≠ d·ª•ng count(field) v√¨ n√≥ k√©m hi·ªáu qu·∫£ nh·∫•t. 
    Trong tr∆∞·ªùng h·ª£p c·∫ßn d√πng, h√£y t·∫°o secondary index tr√™n c·ªôt field ƒë·ªÉ tƒÉng hi·ªáu su·∫•t truy v·∫•n.

## 2. T·∫°i sao count l·∫°i ph·∫£i duy·ªát qua c√°c b·∫£n ghi?

B·∫°n c√≥ th·ªÉ t·ª± h·ªèi t·∫°i sao h√†m count() c·∫ßn ph·∫£i duy·ªát qua c√°c b·∫£n ghi.

T·ª´ ƒë·∫ßu b√†i, m√¨nh ch·ªâ ƒë·ªÅ c·∫≠p t·ªõi storage engine InnoDB, 
tuy nhi√™n, c√°c storage engine kh√°c nhau c√≥ th·ªÉ c√≥ c√°ch th·ª±c thi h√†m count kh√°c nhau. 
V√≠ d·ª• nh∆∞ MyISAM, m·ªôt storage engine kh√°c c·ªßa MySQL v√† ph·ªï bi·∫øn th·ª© 2 sau InnoDB.

Trong tr∆∞·ªùng h·ª£p s·ª≠ d·ª•ng MyISAM, m·ªói b·∫£ng s·∫Ω c√≥ metadata ch·ª©a gi√° tr·ªã row_count. 
Nh∆∞ v·∫≠y khi c·∫ßn **ƒë·∫øm t·∫•t c·∫£ b·∫£n ghi trong b·∫£ng (count() kh√¥ng c√≥ ƒëi·ªÅu ki·ªán l·ªçc), 
MyISAM ch·ªâ c·∫ßn ƒë·ªçc gi√° tr·ªã row_count v·ªõi ƒë·ªô ph·ª©c t·∫°p O(1)**.

Khi ƒë·∫øm c√≥ th√™m ƒëi·ªÅu ki·ªán l·ªçc where, MyISAM kh√¥ng kh√°c g√¨ InnoDB, c·∫£ hai ƒë·ªÅu c·∫ßn scan b·∫£ng ƒë·ªÉ ƒë·∫øm s·ªë l∆∞·ª£ng b·∫£n ghi.

_L∆∞u √Ω, khi ƒë·ªçc l·∫•y row_count, MyISAM lock b·∫£ng ƒë·ªÉ ƒë·∫£m b·∫£o t√≠nh nh·∫•t qu√°n c·ªßa gi√° tr·ªã n√†y._

Storage engine InnoDB h·ªó tr·ª£ transaction v√† nhi·ªÅu transaction c√≥ th·ªÉ th·ª±c c√πng l√∫c. 
C∆° ch·∫ø  MVCC (multi-version concurrency control) v√† Isolation c√≥ th·ªÉ ·∫£nh h∆∞·ªüng t·ªõi k·∫øt qu·∫£ count(),
v√¨ th·∫ø m√† k·∫øt qu·∫£ count trong InnoDB c≈©ng kh√¥ng ch·∫Øc ch·∫Øn n√™n kh√¥ng th·ªÉ duy tr√¨ ch·ªâ m·ªôt bi·∫øn row_count nh∆∞ MyISAM.

V√≠ d·ª•: B·∫£ng member c√≥ 100 b·∫£n ghi v√† c√≥ 2 sesssion th·ª±c hi·ªán song song v√† c√°c query ƒë∆∞·ª£c th·ª±c hi·ªán theo th·ª© t·ª± sau:
| Session A   | Session B   |
| ----------- | ----------- |
| Begin       | Begin       |
| select count(*) from Member <br/> (return 100)            |         |
| | insert into member ... |
| select count(*) from Member <br/> (return **100**) | select count(*) from Member <br/> (return **101**) |

·ªû cu·ªëi session A v√† B, ta ki·ªÉm tra t·ªïng s·ªë b·∫£n ghi trong b·∫£ng member c√πng m·ªôt l√∫c nh∆∞ng b·∫°n c√≥ th·ªÉ th·∫•y r·∫±ng k·∫øt qu·∫£ hi·ªÉn th·ªã l√† kh√°c nhau.
Do isolation level m·∫∑c ƒë·ªãnh c·ªßa transaction A l√† repeatable n√™n count(*) c·ªßa session A s·∫Ω l·∫∑p k·∫øt qu·∫£ l√† 100.
V√¨ v·∫≠y m√† InnoDB ph·∫£i scan b·∫£ng khi ƒë·∫øm v√† kh√¥ng th·ªÉ duy tr√¨ m·ªôt bi·∫øn row_count nh∆∞ MyISAM.

## 3. L√†m c√°ch n√†o ƒë·ªÉ  t·ªëi ∆∞u count(*)?
N·∫øu b·∫°n th∆∞·ªùng xuy√™n s·ª≠ d·ª•ng count(*) cho m·ªôt table l·ªõn th√¨ ƒë√≥ kh√¥ng ph·∫£i gi·∫£i ph√°p t·ªët.
B·∫£ng member c√≥ t·ªïng c·ªông 12 tri·ªáu + b·∫£n ghi, v√† m√¨nh c≈©ng ƒë√£ t·∫°o m·ªôt secondary index, 
nh∆∞ng ph·∫£i m·∫•t kho·∫£ng 5 gi√¢y ƒë·ªÉ th·ª±c thi m·ªôt l·∫ßn: `select count(*) from member`

<div className="image-blog flex justify-center">
    ![count-(*)-with-big-table](/static/images/page/blog/su-khac-biet-giua-count-*-va-count-1-cai-nao-hoat-dong-tot-nhat/count-with-big-table.png)
</div>

V·∫≠y c√≥ c√°ch n√†o t·ªët h∆°n ƒë·ªÉ l√†m ƒëi·ªÅu n√†y khi ƒë·ªëi m·∫∑t v·ªõi m·ªôt b·∫£ng l·ªõn kh√¥ng?

### 3.1. L·∫•y gi√° tr·ªã s·∫•p x·ªâ
N·∫øu b·∫°n kh√¥ng c·∫ßn ph·∫£i r·∫•t ch√≠nh x√°c v·ªÅ s·ªë l∆∞·ª£ng th·ªëng k√™, 
v√≠ d·ª•: khi c√¥ng c·ª• t√¨m ki·∫øm t√¨m ki·∫øm t·ª´ kh√≥a, s·ªë l∆∞·ª£ng k·∫øt qu·∫£ t√¨m ki·∫øm ƒë∆∞·ª£c ƒë∆∞a ra l√† m·ªôt gi√° tr·ªã g·∫ßn ƒë√∫ng.
<div className="image-blog flex justify-center">
    ![approximate-count](/static/images/page/blog/su-khac-biet-giua-count-*-va-count-1-cai-nao-hoat-dong-tot-nhat/approximate-count.png)
</div>

Trong tr∆∞·ªùng h·ª£p n√†y, ch√∫ng ta c√≥ th·ªÉ s·ª≠ d·ª•ng l·ªánh explain ƒë·ªÉ ∆∞·ªõc t√≠nh b·∫£ng. 
**L·ªánh explain (kh√¥ng ƒëi k√®m tham s·ªë  analyze) r·∫•t hi·ªáu qu·∫£ v√¨ n√≥ kh√¥ng th·ª±c s·ª± truy v·∫•n**.
<div className="image-blog flex justify-center">
    ![count-with-explain](/static/images/page/blog/su-khac-biet-giua-count-*-va-count-1-cai-nao-hoat-dong-tot-nhat/count-with-explain.png)
</div>

### 3.2. T·∫°o m·ªôt b·∫£ng ƒë·ªÉ  l∆∞u gi√° tr·ªã bi·∫øn count
N·∫øu ta mu·ªën l·∫•y t·ªïng s·ªë b·∫£n ghi ch√≠nh x√°c trong m·ªôt b·∫£ng, ta c√≥ th·ªÉ l∆∞u gi√° tr·ªã ƒë·∫øm n√†y v√†o m·ªôt b·∫£ng ƒë·∫øm ri√™ng bi·ªát.
Khi th√™m m·ªôt b·∫£n ghi v√†o b·∫£ng d·ªØ li·ªáu, ta tƒÉng tr∆∞·ªùng count l√™n 1 v√† khi x√≥a m·ªôt b·∫£n ghi th√¨ gi·∫£m s·ªë l∆∞·ª£ng tr∆∞·ªùng count xu·ªëng 1.

## 4. T·ªïng k·∫øt
Cu·ªëi c√πng, ch√∫ng ta c·∫ßn nh·ªõ v√†i ƒëi·ªÉm quan tr·ªçng sau ƒë√¢y:
- Count(*) c√≥ hi·ªáu nƒÉng t·ªët h∆°n so v·ªõi Count(pk), count(field)
- H√†m count ∆∞u ti√™n s·ª≠ d·ª•ng secondary index ƒë·ªÉ th·ª±c hi·ªán ƒë·∫øm.
- N·∫øu tr∆∞·ªùng h·ª£p kh√¥ng c·∫ßn s·ªë li·ªáu ch√≠nh x√°c, h√£y l·∫•y gi√° tr·ªã x·∫•p x·ªâ.

C·∫£m ∆°n c√°c b·∫°n ƒë√£ ƒë·ªçc b√†i vi·∫øt c·ªßa m√¨nh. 
B√†i vi·∫øt c√≤n thi·∫øu s√≥t nhi·ªÅu ch·ªó do l∆∞·ª£ng ki·∫øn th·ª©c c·ªßa m√¨nh c√≤n h·∫°n h·∫πp.
Hi v·ªçng qua b√†i vi·∫øt s·∫Ω gi√∫p c√°c b·∫°n c√≥ th√™m ki·∫øn th·ª©c s·ª≠ d·ª•ng c√°c h√†m count khi l√†m vi·ªác v·ªõi database.

H·∫πn g·∫∑p c√°c b·∫°n trong c√°c b√†i vi·∫øt s·∫Øp t·ªõi nh√©.

Happy reading! üçª

## Tham kh·∫£o
1. [S·ª± kh√°c bi·ªát gi·ªØa Count(*) v√† Count(1)? C√°i n√†o hi·ªáu qu·∫£ h∆°n? (System Design VN)](https://viblo.asia/p/su-khac-biet-giua-count-va-count1-cai-nao-hieu-qua-hon-vlZL9a2BLQK)
1. [What is the difference between count(*) and count(1) and which performs best?](https://xiaolincoding.com/mysql/index/count.html#%E5%93%AA%E7%A7%8D-count-%E6%80%A7%E8%83%BD%E6%9C%80%E5%A5%BD)
